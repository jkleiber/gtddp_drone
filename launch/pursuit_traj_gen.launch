<launch>
  <arg name="is_sim" value="1"/>
  <arg name="traj_gen" value="1"/>
  <arg name="target_timestep" value="0.5"/>
  <arg name="num_legs" value="10"/>

  <include file="$(find gtddp_drone)/launch/constants.launch">
    <arg name="ddp_select" value="pursuit"/>

    <!-- DDP Hyperparameters -->
    <arg name="num_time_steps" value="1001"/>
    <arg name="num_iterations" value="2"/>
    <arg name="num_long_legs" value="5"/>
    <arg name="short_iterations" value="2"/>
    <arg name="dt" value="0.001"/>
    <arg name="learning_rate" value="0.04"/>

    <!-- AR.Drone System Parameters -->
    <arg name="num_states" value="24"/>
    <arg name="mass" value="0.436"/>
    <arg name="length" value="0.19"/>
    <arg name="Ixx" value="0.0045"/>
    <arg name="Iyy" value="0.0051"/>
    <arg name="Izz" value="0.0095"/>

    <!-- Convergence Hyperparameters -->
    <arg name="dist_converge_u" value="1"/>
    <arg name="dist_converge_v" value="1"/>

    <!-- Constraints for du -->
    <arg name="u0_upper" value="8"/>
    <arg name="u1_upper" value="5"/>
    <arg name="u2_upper" value="1"/>
    <arg name="u3_upper" value="1"/>
    <arg name="u0_lower" value="5.5"/>
    <arg name="u1_lower" value="-5"/>
    <arg name="u2_lower" value="-1"/>
    <arg name="u3_lower" value="-1"/>

    <!-- Constraints for dv -->
    <arg name="v0_upper" value="8"/>
    <arg name="v1_upper" value="5"/>
    <arg name="v2_upper" value="1"/>
    <arg name="v3_upper" value="1"/>
    <arg name="v0_lower" value="5.5"/>
    <arg name="v1_lower" value="-5"/>
    <arg name="v2_lower" value="-1"/>
    <arg name="v3_lower" value="-1"/>
  </include>

  <!-- GT-DDP nodes -->
  <node name="gtddp_optimize_node" pkg="gtddp_drone" type="gtddp_optimize_node" output="screen">
    <param name="is_gen" value="$(arg traj_gen)"/>
    <param name="gen_legs" value="$(arg num_legs)"/>
  </node>


</launch>
