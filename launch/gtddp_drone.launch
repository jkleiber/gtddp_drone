<launch>
  <arg name="is_sim" value="1" />
  <arg name="real_time" value="0"/>
  <arg name="target_timestep" value="1.0"/>

  <!-- GT-DDP nodes -->
  <node name="gtddp_control_node" pkg="gtddp_drone" type="gtddp_control_node" output="screen">
    <param name="is_simulation" value="$(arg is_sim)"/>
  </node>
  <node name="gtddp_optimize_node" pkg="gtddp_drone" type="gtddp_optimize_node" output="screen">
    <param name="is_simulation" value="$(arg is_sim)"/>
    <param name="is_real_time" value="$(arg real_time)"/>
  </node>

  <!-- Target node -->
  <node name="gtddp_target_node" pkg="gtddp_drone_target_trajectory" type="gtddp_target_node" output="screen">
    <param name="target_dt" value="$(arg target_timestep)"/>
  </node>

  <!-- Simulator -->
  <include file="$(find cvg_sim_gazebo)/launch/ardrone_emptyworld.launch"/>

  <!-- Keyboard node -->
  <node pkg="gtddp_drone" type="keyboard_node.py" name="keyboard_node" output="screen"/>

</launch>
